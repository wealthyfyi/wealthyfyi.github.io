let kudos = {
	budget1 : {
		title : "Start building wealth",
		brief : "Having money left over each month is the first step towards becoming wealthy. Keep up the excellent work!"
	},
	efundkudo1 : {
		title: "Prepared for emergencies",
		brief: "Emergencies can happen at any time. Fortunately, you're ready for them. Great job!"
	},
	employermatchkudo1 : {
		title: "Unbeatable returns",
		brief: "Employer contribution matching is a guaranteed return on your investment. The employer match is tax-free. Talk about a win-win! Getting the entire match accelerates wealth building."
	},
	debtfreekudo1 : {
		title: "Debt-free living",
		brief: "For many people, debt is a huge burden to shoulder. Being debt-free is a great situation to be in. Congratulations!"
	},
	hsamaxkudo1 : {
		title: "A healthy future ahead of you",
		brief: "Healthcare is expensive, and it increases with age. Fortunately, you're preparing for it by fully funding your Health Savings Account (HSA). Did you know an HSA is the best retirement account in America? There are no taxes on: <ul><li>the income that funds it,</li><li>the growth in the HSA, or </li><li>the withdrawals for eligible health expenses. </li>Pay out-of-pocket now if you can afford to. It'll pay off dramatically over time. Bonus tip: save all of your medical receipts and reimburse them with your HSA at any time in the future."
	}
}
let recommendations = {
	unsupported : {
		title: "Check back later",
		brief: "Unfortunately we don't have support for your financial situation right now. Come back soon to check if we've added support, or when your situation changes."
	},
	spendless : {
		title: "Reduce your spending",
		brief: "To build wealth, you need to spend less than you make. The easiest way to start doing that is to reduce your spending."
	},
	efund1 : {
		title: "Build an emergency fund",
		brief: "Being prepared for emergencies is a crucial step towards financial freedom. Get started by saving enough cash to cover a month of expenses in a high-yield savings account."
	},
	employermatch1 : {
		title: "Get unbeatable returns",
		brief: "Employer 401(K) contribution matches are a guaranteed return on your investment. Adjusted for risk, it's the best investment you can make. As a bonus, both your contribution and the employer match are tax-advantaged."
	},
	highinterest1 : {
		title: "Pay down high-interest loans",
		brief: "\"High-interest\" debt is debt that is above the average rate-of-return for the stock market over time, which is about 7% adjusted for inflation. Investments have risk, whereas paying off high-interest debt does not."
	},
	hsafees1 : {
		title: "Give your HSA a health check",
		brief: "While the Health Savings Account (HSA) is the best investment account in America, not all are created equal. Check if switching to another HSA provider could lower your fees."
	},
	hsamax1 : {
		title: "Invest in your future health",
		brief: "The Health Savings Account (HSA) is the best investing account America. Once you've maxed out your employer matching in your 401(K) account, the next best thing to max out is your HSA. It provides all the tax advantages of both a Traditional and a Roth retirement account, making it a better way to invest than both of them."
	},
	evaluateiratype : {
		title: "Traditional or Roth IRA?",
		brief: "Individual Retirement Accounts (IRAs) provide tax incentives to encourage you to save for your future. Contributions to a Traditional IRA reduce your tax bill now. Contributing to a Roth account reduces your tax bill in the future. Use a Roth account if you expect your income to go up; otherwise, a Traditional IRA is better."
	},
	maxira : {
		title: "Max out that IRA",
		brief: "An Individual Retirement Account (IRA) provides tax incentives to encourage you to save for your future. Contributing the maximum amount to your IRA helps your money do more for you."
	},
	maxtraditionalira : {
		title: "Max out a Traditional IRA",
		brief: "An Individual Retirement Account (IRA) provides tax incentives to encourage you to save for your future. Using a Traditional IRA will reduce your tax bill today, making it easier to invest. Those savings will be able to grow unimpeded; you won't have to pay taxes until you withdraw your money in retirement."
	},
	evaluateespp : {
		title: "Grow with your employer",
		brief: "An Employee Stock Purchase Program (ESPP) allows employees to use a portion of their salary to purchase shares of the company at a discounted price. Does your employer offer an ESPP? If so, increase your income by contributing the maximum amount to the ESPP. To diversify, sell the shares immediately when you get them."
	},
	othergoalsavings : {
		title: "Prepare for expected expenses",
		brief: "Do you expect to have significant expenses in the next five years? Whether it's a car, house, college, or elder-care, you should start saving now if you haven't. For short-term savings, invest in something low-risk like a high yield savings account or bonds."
	},
	max401k : {
		title: "Max your 401(K)",
		brief: "The tax advantage from investing in a 401(K) account is a significant accelerator for retirement savings. Contributing the maximum amount is a great way to get the most out of your money."
	},
	megabackdoor : {
		title: "Use the \"Mega Backdoor\"",
		brief: "In 2021 the 401(K) contribution limit is $58k. That limit includes the $19.5k individual contribution limit and your employer match. Use the \"Mega Backdoor\" method to reach the $58k limit. Not all 401(K) plans offer it. To use it, you'll need to be able to make after-tax 401(K) contributions and roll them over to a Roth IRA."
	},
	esa : {
		title: "Saving for education",
		brief: "If you want to pay for education or training for yourself or someone else,  consider using a 529 Plan Education Savings Account (ESA). Growth in an ESA isn't taxed if it's withdrawn for eligible expenses, making it a great way to save for future education."
	},
	mortgagepayments : {
		title: "Consider paying off your mortgage",
		brief: "Mortgages are one of the lowest cost loans available. Over a decade, the stock market generally provides higher returns than mortgage interest. Consider paying off your mortgage faster if you: <ul><li>are close to retirement,</li><li>have low risk tolerance, or</li> <li>value knowing that you fully own your home.</li></ul>"
	},
	taxablebrokerage : {
		title: "Invest in a regular brokerage account",
		brief: "Have you already maxed out all of the relevant tax-advantaged accounts available to you? Consider investing in a regular brokerage account. "
	},
	taxharvesting : {
		title: "Evaluate tax loss harvesting",
		brief: "Short-term losses are most valuable when used to offset short-term gains, which are taxed as ordinary income. Conversely, short-term losses are least effective when used to offset long-term gains. Realized losses can offset up to $3000 of earned income per year. The remaining can be carried forward to future years."
	},
	lowinterestdebts : {
		title: "Evaluate paying off low-interest debt",
		brief: "\"Low-interest\" debt is debt that is below the average rate-of-return for the stock market over time, which is about 7% adjusted for inflation. It's better to invest your money than pay off low-interest debt aggressively; however, there can be an emotional toll to debt. Evaluate if it is worthwhile to allocate some money to pay off low-interest debt early."
	},
	donoradvisedfunds : {
		title: "Efficient charity with donor-advised funds",
		brief: "You don't have to be wealthy to open a donor-advised fund (DAF). DAFs are an efficient donation vehicle because you can donate assets with unrealized gains. To get the most out of them, set aside assets that have grown substantially - the value of the assets is tax-deductible at the transfer time."
	},
	rebalanceportfolio : {
		title: "Rebalancing your portfolio",
		brief: "Your assets should reflect your risk tolerance. Over time, investments will grow and shrink. Rebalancing your portfolio nudges it back to the initial asset ratios through buying and selling."
	},
	rolloverira:{
		title: "Roll over your IRA to a Roth",
		brief: "@@TODO"
	}
	
}
class ResultsCardBuilder{
	constructor(resultKey, resultsObj){
		this.parentelement = document.getElementById("results");
		let card = this.CreateCard();
		if(resultsObj.hasOwnProperty(resultKey)){
			let result = resultsObj[resultKey];
			card.append(this.Title(result["title"]));
			card.append(this.Brief(result["brief"]));
			if(result.hasOwnProperty("learnmore")){
				card.append(this.Action(result["learnmore"]));
			}
		}
	}
	CreateCard(){
		let card = document.createElement("section");
		card.classList.add("card");
		return this.parentelement.appendChild(card);
	}
	Title(title){
		let titleElement = document.createElement("h2");
		titleElement.classList.add("card__title");
		titleElement.innerHTML = title;
		return titleElement;
	}
	Brief(brief){
		let briefElement = document.createElement("p");
		briefElement.classList.add("card__text");
		briefElement.innerHTML = brief;
		return briefElement;
	}
	Action(action){
		let actionElement = document.createElement("a");
		actionElement.classList.add("card__action");
		actionElement.classList.add("button");
		actionElement.innerHTML = "Learn more";
		actionElement.href = action;
		return actionElement;
	}
}

class Results{
	constructor(){
		let searchParams = new URLSearchParams(window.location.search);
		let recList = searchParams.getAll("recommendations");
		let kudoList = searchParams.getAll("kudos");
		if(recList.length > 0){
			new ResultsCardBuilder(recList.pop(), recommendations);
		}
		for(const result of kudoList){
			new ResultsCardBuilder(result, kudos);
		}
		for(const result of recList){
			new ResultsCardBuilder(result, recommendations);
		}
	}
}



let _app = new Results();